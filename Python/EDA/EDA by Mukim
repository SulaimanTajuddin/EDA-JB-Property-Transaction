import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

df = pd.read_csv(r'C:\Users\sulaiman.at\Documents\GitHub\EDA-JB-Property-Transaction\Python\JB Properties Data 2021-2024(TSV).csv', sep='\t')

print("\nRaw column (existing) :\n " + f"{df.columns.tolist()}\n") #inspect column name, view any whitespace

df.columns = df.columns.str.strip()

print("\nColumn after stripped :\n " + f"{df.columns.tolist()}\n") # output after column stripped

#Clean and convert 'Transaction Price' to numeric 
df['Transaction Price'] = df['Transaction Price'].str.replace('RM', '', regex=False)
df['Transaction Price'] = df['Transaction Price'].str.replace(',', '', regex=False).astype(float)

print(df.head(10))

'''
# Visualize using scatter plot
fig, ax = plt.subplots(figsize=(6, 4))
ax.scatter(df['Mukim'], df['Transaction Price'])
ax.set_xlabel('(Mukim)')
ax.set_ylabel('(Transaction Price)')
plt.show()
'''
# Visualize using histogram
plt.hist(df['Transaction Price'], bins=30, color='skyblue', edgecolor='black')
plt.title('Distribution of Transaction Price')
plt.xlabel('Transaction Price')
plt.ylabel('Frequency')
plt.grid(True)
plt.show()

plt.figure(figsize=(12,	4))
sns.kdeplot(df['Transaction Price'], fill=True,	color='blue', alpha=0.6)
plt.title(f'Kernel Density Estimate(KDE) - Sale Price',	fontsize=16)
plt.xlabel('Sale Price', fontsize=12)
plt.ylabel('Density', fontsize=12)
plt.grid(True, linestyle='--', alpha=0.7)
plt.tight_layout()
plt.show()